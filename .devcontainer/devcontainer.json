{
	"name": "MVP sampark dev",
	"build": {
		"context": "..",
		"dockerfile": "Dockerfile"
	},
	"postCreateCommand": "echo source /workspace/pytorch/tools/gdb/pytorch-gdb.py | tee ~/.gdbinit",
	"mounts": [
		"source=${env:HOME}/.gitconfig,target=/root/.gitconfig,type=bind,consistency=cached",
		"source=/mnt/podman_storage/sampark/tmpdir/outputs,target=/mnt/outputs,type=bind,consistency=cached",
		"source=${env:HOME}/.config/gcloud/application_default_credentials.json,target=/root/.config/gcloud/application_default_credentials.json,type=bind,readonly,consistency=cached"
	],
	"workspaceMount": "source=/mnt/podman_storage/sampark/tmpdir/devcontainers,target=/workspace/pytorch_eco,type=bind,consistency=delegated",
	"workspaceFolder": "/workspace/pytorch_eco",
	"runArgs": [
		"--name",
		"sampark-dev",
		"--device=nvidia.com/gpu=4",
		"--device=nvidia.com/gpu=5",
		"--device=nvidia.com/gpu=6",
		"--device=nvidia.com/gpu=7",
		// "--device=nvidia.com/gpu=all",
		"--security-opt=label=disable"
	],
	"remoteEnv": {
	},
	"containerEnv": {
	},
	"customizations": {
		"vscode": {
			"extensions": [
				"ms-python.python",
				"benjamin-simmonds.pythoncpp-debug",
				"ms-vscode.cpptools-extension-pack"
			]
		}
	}
}
